{% extends "dashboard.html" %}
{% block content %}
{% load static %}
{% block jsblock %}
<link rel="stylesheet", href="{% static 'styles.css' %}">
<h2>Users List</h2>
<table id='memberTable'>
    <tr>
        <th>User ID</th>
        <th>Username</th>
        <th>Group</th>
    </tr>
    {% for user in non_admin_users %}
    <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.username }}</td>
        <td> {{ user.groups__name }} </td>
        <td><button onclick="location.href='{% url 'edit_user_details' username=user.username %}'" id='edit'>Edit details</button></td>
        <td><button id='modify'>Modify group</button></td>
        <td><button onclick="location.href='{% url 'block_users' username=user.username %}'" id='flag'>Flag</button></td>
        <td><button onclick="location.href='{% url 'unblock_users' username=user.username %}'">Unflag</button></td>
        <td><button id='warn'>Warn</button></td>
        <td><button onclick="location.href='{% url 'delete_user' username=user.username %}'" id='delete' >Delete</button></td>
    </tr>
    {% endfor %}
</table>
<h2>Items List</h2>
<table id='itemTable'>
    <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Category</th>
        <th>Status</th>
        <th>Price</th>
        <th>Date</th>
        <th>Keywords</th>
        <th>Image</th>
    </tr>
    {% for post in posts %}
    <tr>
        <td> {{ post.title }}</td>
        <td> {{ post.description }}</td>
        <td> {{ post.category }}</td>
        <td> {{ post.status }}</td>
        <td> {{ post.price }}</td>
        <td> {{ post.date }}</td>
        <td> {{ post.keywords }}</td>
        <td><img src="../../../static/{{ post.post_image }}" width="40px" height="40px"></td>
        <td><button id='flag'>Flag</button></td>
        <td><button onclick="location.href='{% url 'delete_posts' title=post.title %}'" id='delete'>Delete</button></td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
{% endblock %}